# Tinyavif comparison script

This script is a companion to tinyavif. Its job is to compare tinyavif against other image
encoders: currently libaom and jpegli.

For details on the methodology used, please see the accompanying blog post:
https://www.rachelplusplus.me.uk/blog/2025/03/lets-build-an-avif-encoder-part-3/

## Requirements

This script currently only works on Linux

You will need:
* A copy of tinyavif, checked out adjacent to this repository
* A copy of Big Buck Bunny in 1080p24 Y4M format. The expected SHA256 checksum can be found in
  `inputs.sha256sum`
* cjpegli (from either https://github.com/libjxl/libjxl/tree/main or
  https://github.com/google/jpegli)
* libavif + libaom
* scipy
* matplotlib

## Usage

Run `./setup_input.py`, passing the path to your copy of Big Buck Bunny, to prepare input files.
The expected SHA256 checksums of the files generated by this script can also be found in
`inputs.sha256sum`.

Then run `./comparison.py`, passing one of the still-image files generated by the previous script,
to perform the quality comparison. This will generate one plot comparing size vs. quality for the
three encoders, and another comparing runtime vs. quality. It will also print BDRATE comparison
statistics for all combinations of the three codecs.
